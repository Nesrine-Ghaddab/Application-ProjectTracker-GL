{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mon Profil</title>

  <link rel="icon" href="{% static 'UserApp/favicon.ico' %}">
  <link href="{% static 'UserApp/style.css' %}" rel="stylesheet">
</head>

<body x-data="{ page: 'profile', 'darkMode': true, 'stickyMenu': false, 'navigationOpen': false, 'scrollTop': false }"
  x-init="
      darkMode = JSON.parse(localStorage.getItem('darkMode'));
      $watch('darkMode', value => localStorage.setItem('darkMode', JSON.stringify(value)))"
  :class="{'b eh': darkMode === true}">



  <!-- ===== Header Start ===== -->
  <header class="g s r vd ya cj" :class="{ 'hh sm _k dj bl ll' : stickyMenu }"
    @scroll.window="stickyMenu = (window.pageYOffset > 20) ? true : false">
    <div class="bb ze ki xn 2xl:ud-px-0 oo wf yf i">
      <div class="vd to/4 tc wf yf">
        <a href="/">
          <img class="om" src="{% static 'UserApp/images/logo-light.svg' %}" alt="Logo Light" />
          <img class="xc nm" src="{% static 'UserApp/images/logo-dark.svg' %}" alt="Logo Dark" />
        </a>

        <!-- Hamburger Toggle BTN -->
        <button class="po rc" @click="navigationOpen = !navigationOpen">
          <span class="rc i pf re pd">
            <span class="du-block h q vd yc">
              <span class="rc i r s eh um tg te rd eb ml jl dl" :class="{ 'ue el': !navigationOpen }"></span>
              <span class="rc i r s eh um tg te rd eb ml jl fl" :class="{ 'ue qr': !navigationOpen }"></span>
              <span class="rc i r s eh um tg te rd eb ml jl gl" :class="{ 'ue hl': !navigationOpen }"></span>
            </span>
          </span>
        </button>
      </div>

      <div class="vd wo/4 sd qo f ho oo wf yf" :class="{ 'd hh rm sr td ud qg ug jc yh': navigationOpen }">
        <nav>
          <ul class="tc _o sf yo cg ep">
            <li><a href="/" class="xl">Home</a></li>
            <li><a href="#" class="xl">Features</a></li>
            <li><a href="#" class="xl">Pricing</a></li>

            <li class="c i" x-data="{ dropdown: false }">
              <a href="#!" class="xl tc wf yf bg" @click.prevent="dropdown = !dropdown">
                User Pages
              </a>

              <ul class="a" :class="{ 'tc': dropdown }">
                <li><a href="{% url 'profile' %}" class="xl mk">My Profile</a></li>
                <li><a href="{% url 'edit_profile' %}" class="xl">Edit Profile</a></li>
                <li><a href="{% url 'logout' %}" class="xl">Logout</a></li>
              </ul>
            </li>
          </ul>
        </nav>

        <div class="tc wf ig pb no">
          <a href="{% url 'logout' %}" class="ek pk xl">Logout</a>
        </div>
      </div>
    </div>
  </header>
  <!-- ===== Header End ===== -->



  <!-- ===== Profile Section ===== -->
  <section class="i pg fh rm ki xn vq gj qp gr hj rp hr">

    <!-- Background Shapes -->
    <img src="{% static 'UserApp/images/shape-06.svg' %}" alt="Shape" class="h j k" />
    <img src="{% static 'UserApp/images/shape-03.svg' %}" alt="Shape" class="h l m" />
    <img src="{% static 'UserApp/images/shape-17.svg' %}" alt="Shape" class="h n o" />
    <img src="{% static 'UserApp/images/shape-18.svg' %}" alt="Shape" class="h p q" />

    <div class="animate_top bb af i va sg hh sm vk xm yi _n jp hi ao kp">

      <div class="rj text-center">
        <h2 class="ek ck kk wm xb">Mon Profil</h2>
      </div>

      <div class="text-center mt-6">
        <img src="{{ user.photo.url }}"
             class="w-32 h-32 rounded-full mx-auto shadow-lg border-4 border-white" alt="Photo">

        <h2 class="text-3xl font-bold mt-4">{{ user.nom }} {{ user.prenom }}</h2>
        <p class="text-gray-500 text-lg">{{ user.email }}</p>
      </div>

      <div class="mt-6 p-6 bg-white shadow-lg rounded-xl">
        <p class="text-gray-700"><strong>Nom :</strong> {{ user.nom }}</p>
        <p class="text-gray-700"><strong>Prénom :</strong> {{ user.prenom }}</p>
        <p class="text-gray-700"><strong>Email :</strong> {{ user.email }}</p>
        <p class="text-gray-700"><strong>Rôle :</strong> {{ user.role|capfirst }}</p>
        <p class="text-gray-700"><strong>Date inscription :</strong> {{ user.dateInscription|date:"d M Y" }}</p>
      </div>

      <div class="mt-8 text-center">
        <a href="{% url 'edit_profile' %}"
           class="vd rj ek rc rg gh lk ml il _l gi hi">
          Modifier Profil
        </a>
      </div>

    </div>
  </section>



  <!-- ===== Footer Start ===== -->
  <footer>
    <div class="bb ze ki xn 2xl:ud-px-0">
      <div class="bh ch pm tc uf sf yo wf xf ap cg fp bj">
        <p class="animate_top">&copy; 2025 Base - Profile Page. All rights reserved.</p>
      </div>
    </div>
  </footer>
  <!-- ===== Footer End ===== -->

  <script defer src="{% static 'UserApp/bundle.js' %}"></script>

</body>

</html>
